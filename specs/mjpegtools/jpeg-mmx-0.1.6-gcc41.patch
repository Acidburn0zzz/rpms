diff -Naupr jpeg-mmx.orig/jquant_x86simd.c jpeg-mmx/jquant_x86simd.c
--- jpeg-mmx.orig/jquant_x86simd.c	2003-08-02 06:31:28.000000000 +0200
+++ jpeg-mmx/jquant_x86simd.c	2006-03-17 15:52:41.000000000 +0100
@@ -104,7 +104,7 @@ void jcquant_sse( INT16 *psrc, INT16 *pd
 
 	/* Initialise zero block flags */
 	/* Set up SSE rounding mode */
-	__asm__ ( "ldmxcsr %0\n" : : "X" (trunc_mxcsr) );
+	__asm__ ( "ldmxcsr %0\n" : : "m" (trunc_mxcsr) );
 
 	for (i=0; i < 64 ; i+=4)
 	{
