diff -Naupr tiacx-2.6.18-mm3.orig/acx_struct.h tiacx-2.6.18-mm3/acx_struct.h
--- tiacx-2.6.18-mm3.orig/acx_struct.h	2006-10-28 12:23:06.000000000 +0200
+++ tiacx-2.6.18-mm3/acx_struct.h	2006-10-28 13:19:09.000000000 +0200
@@ -30,6 +30,9 @@
 ** ---------------------------------------------------------------------
 */
 
+#define CONFIG_ACX_PCI 1
+#define CONFIG_ACX_USB 1
+
 /***********************************************************************
 ** Forward declarations of types
 */
diff -Naupr tiacx-2.6.18-mm3.orig/Makefile tiacx-2.6.18-mm3/Makefile
--- tiacx-2.6.18-mm3.orig/Makefile	2006-10-28 12:23:06.000000000 +0200
+++ tiacx-2.6.18-mm3/Makefile	2006-10-28 13:19:58.000000000 +0200
@@ -1,6 +1,3 @@
-obj-$(CONFIG_ACX) += acx.o
+obj-m += acx.o
 
-acx-obj-$(CONFIG_ACX_PCI) += pci.o
-acx-obj-$(CONFIG_ACX_USB) += usb.o
-
-acx-objs := wlan.o conv.o ioctl.o common.o $(acx-obj-y)
+acx-objs := wlan.o conv.o ioctl.o common.o pci.o usb.o
